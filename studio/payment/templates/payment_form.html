{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
  <h2>{{ 'Edit Payment' if payment else 'Add Payment' }}</h2>

  <form method="post">
    <div class="mb-3">
      <label>Student</label>
      <select name="student_id" class="form-select" required>
        {% for s in students %}
        <option value="{{ s.id }}" {% if payment and s.id == payment.student_id %}selected{% endif %}>{{ s.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label>Date</label>
      <input type="date" name="payment_date" class="form-control"
             value="{{ payment.payment_date if payment else '' }}" required>
    </div>

    <div class="mb-3">
      <label>Amount</label>
      <input type="number" step="0.01" name="amount" class="form-control"
             value="{{ payment.amount if payment else '' }}" required>
    </div>

    <div class="mb-3">
      <label>Payment Method</label>
      <select name="payment_method_id" class="form-select">
        {% for m in methods %}
        <option value="{{ m.id }}" {% if payment and m.id == payment.payment_method_id %}selected{% endif %}>{{ m.name }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="mb-3">
      <label>Class Pass</label>
      <select name="class_pass_id" class="form-select">
        {% for c in passes %}
        <option value="{{ c.id }}" {% if payment and c.id == payment.class_pass_id %}selected{% endif %}>{{ c.name }}</option>
        {% endfor %}
      </select>
    </div>

    <button type="submit" class="btn btn-success">ðŸ’¾ Save</button>
    <a href="{{ url_for('payment_bp.payment_list') }}" class="btn btn-secondary">Cancel</a>
  </form>
</div>
{% endblock %}
